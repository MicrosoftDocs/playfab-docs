---
title: Connecting to Azure Blob
author: thomasgu
description: Data Connections to Azure Blob
ms.author: thomg
ms.date: 06/15/2022
ms.topic: article
ms.prod: playfab
keywords: playfab, data connections, byos, connections, event ingestion
ms.localizationpriority: medium
---
# Configuring your Azure Storage Data Connection

First, you need an Azure subscription and a storage account. 

For existing PlayFab and Azure customers, you can create a storage container on the [Azure portal](https://ms.portal.azure.com/#allservices) and get started with Data Connections on [Azure PlayFab](https://developer.playfab.com/sign-up/). 

For existing PlayFab who are new to Azure, you can sign up for an [Azure subscription](https://ms.portal.azure.com/).

> [!Note]
> Make sure to create your Storage Account in the West US 2, otherwise, egress cost will be applied to your storage account. You can configure up to three Azure blob storage accounts in the WestUS2 region.

## Setting up your Storage in Azure

For PlayFab to ingest data in your storage account, container details along with authorization using a SAS token are required. To create a SAS token using the Microsoft Azure portal, follow the steps below.

### Option 1: Create the SAS token on the container level. 
> [!Important]
> Generate and retrieve the shared access signature for your container, not for the storage account itself.

- In the [Azure portal](https://ms.portal.azure.com/#allservices), select **Your storage account > Containers**.
- Select a container from the list.
- Go to the right of the main window and select the three ellipses associated with your chosen container.
- Select **Generate SAS** from the dropdown menu to open the **Generate SAS** window.

![Screenshot of SAS token on the container level - Option 1](media/SAS-token-on-the-container-level-1.png "SAS token on the container level - Option 1") 

- Define **Permissions** by selecting or clearing the appropriate checkbox. Make sure the **Create** and **Write** permissions are selected.

![Screenshot of Generate SAS token - Option 1](media/Generate-SAS-token-level.png "Generate SAS token - Option 1") 

- Specify the signed key **Start** and **Expiry** times. 
- Select **Generate SAS token and URL**.
- The **Blob SAS token** query string appears in the lower area of the window.
- Copy and paste the **Blob SAS token** values into a **secure location for use in the Azure PlayFab Data Connections**. It's displayed only once and can't be retrieved after the window is closed.

### Option 2: Create the SAS token on the account level.
> [!Important]
> Generate and retrieve the shared access signature for your storage account itself.

- In the [Azure portal](https://ms.portal.azure.com/#allservices), select **Your storage account** 
- Select a **Shared access signature** from the list under **Security + Networking**.
- Define **Services** by selecting **blob** and clearing other checkboxes. 
- Define **Resource Type** by selecting **Object** and clearing other checkboxes. 
- Make sure the **Create** and **Write** permissions are selected.
- Specify the signed key **Start** and **Expiry** times. 
- Select **Generate SAS token and URL**.
- The Blob SAS token query string appears in the lower area of the window.
- Copy and paste the **Blob SAS token** values into a **secure location for use in the Azure PlayFab Data Connections**. It's displayed only once and can't be retrieved after the window is closed.

![Screenshot of SAS token on the account level - Option 2](media/SAS-token-on-the-account-level.png "SAS token on the account level - Option 2") 

## Create an Azure Data Explorer Data Connection in PlayFab

### Step 1: Navigate to the data connections tab

![Screenshot of PlayFab data connections tab](media/navigate-to-data-connections-tab.png "PlayFab data connections tab") 

- Login to PlayFab and navigate to your title.
- Click on the “Data” section in the left-hand menu
- Click on the “Data Connections” tab

### Step 2: Configure a new Data Connection

- Click “New Connection” button.
- Choose the “Destination Type” to be “Azure Data Explorer”
- Populate the fields using the following values  

| Value | Details |
|:-----------|:-----------|
|Name | The friendly name of your data connection. This name will allow you to find the data connection later to edit it. Put a descriptive name here. 
| Account name  | The Azure Storage Account. |
| Container name | The Azure Storage Account Container. |
| Sas token |  Either the SAS token generated by the container, or the Blob SAS token query string.  |

![Screenshot of configuring and ADX data connection](media/configure-new-data-connection-blob.PNG "ADX data connection configuration") 

> [!Note]
> We recommend using a table name that does not exist. If you use an existing table and the schema is not what PlayFab is expecting, then the schema will be modified. 
